# ПерекупАпп - Мобільний додаток для контролю авто перекупу

ПерекупАпп - це комплексне рішення для управління процесами автоперекупу, включаючи контроль вкладень, продажу та розбору авто. Додаток допомагає автоперекупникам ефективно керувати своїм бізнесом та максимізувати прибуток.

[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=for-the-badge&logo=typescript&logoColor=white)](https://www.typescriptlang.org/)
[![React Native](https://img.shields.io/badge/React_Native-20232A?style=for-the-badge&logo=react&logoColor=61DAFB)](https://reactnative.dev/)
[![Expo](https://img.shields.io/badge/Expo-000020?style=for-the-badge&logo=expo&logoColor=white)](https://expo.dev/)
[![Supabase](https://img.shields.io/badge/Supabase-3ECF8E?style=for-the-badge&logo=supabase&logoColor=white)](https://supabase.com/)

## Основні функції

- **Управління автомобілями**
  - Додавання та редагування інформації про автомобілі
  - Завантаження фотографій та документів
  - Відстеження пробігу
  - Зміна статусів автомобілів (на перевірці, куплено, на ремонті, продано)

- **Управління вкладеннями**
  - Категоризація витрат (купівля, ремонт, запчастини, логістика)
  - Додавання витрат з описом, сумою та датою
  - Завантаження чеків/рахунків
  - Розрахунок загальних витрат на авто

- **Аналітика і звітність**
  - Графіки витрат та прибутків
  - Аналіз рентабельності автомобілів
  - Статистика за періодами
  - Експорт звітів

- **Користувацькі налаштування**
  - Вибір мови (українська, російська)
  - Вибір теми (світла, темна, системна)
  - Налаштування сповіщень

## Технічний стек

- **Мова програмування**: TypeScript
- **Frontend**: React Native + Expo
- **Управління станом**: Zustand
- **Локалізація**: i18next
- **Backend**: Supabase
- **База даних**: PostgreSQL
- **Автентифікація**: Supabase Auth
- **Сховище файлів**: Supabase Storage
- **Навігація**: Expo Router
- **Офлайн режим**: Власна реалізація з AsyncStorage

## Початок роботи

### Вимоги

- Node.js (v18 або вище)
- Expo CLI
- TypeScript (v5.0 або вище)
- Supabase проєкт

### Встановлення

1. Клонуйте репозиторій:
```bash
git clone https://github.com/luhobymer/Perekyp.git
```

2. Перейдіть у директорію проекту:
```
cd perekyp-app
```

3. Встановіть залежності:
```
npm install
```

4. Налаштуйте змінні середовища:
   - Створіть файл `.env` на основі `.env.example`
   - Додайте URL та ключі доступу до Supabase

5. Запустіть проєкт:
```
npm start
```

### Додаткові команди

- Перевірка типів TypeScript:
```
npx tsc --noEmit
```

- Перевірка коду за допомогою ESLint:
```
npm run lint
```

- Оптимізація зображень:
```
npm run optimize-images
```

- Аналіз розміру бандлу:
```
npm run analyze
```

## Структура бази даних

Додаток використовує PostgreSQL базу даних з Supabase. Основні таблиці:

- `profiles` - профілі користувачів
- `cars` - інформація про автомобілі
- `car_expenses` - витрати на автомобілі
- `car_documents` - документи, пов'язані з автомобілями
- `car_images` - зображення автомобілів
- `mileage_history` - історія пробігу
- `ownership_history` - історія власності
- `service_history` - історія обслуговування
- `notifications` - сповіщення користувачів
- `buyers` - інформація про покупців
- `teams` - команди користувачів
- `team_members` - члени команд
- `status_comments` - коментарі статусу

Для детальної інформації дивіться файли міграцій у `supabase/migrations/`.

## Міграція на TypeScript

Проєкт був повністю мігрований з JavaScript на TypeScript для покращення якості коду, типобезпеки та підтримки IDE. Основні переваги:

- Повна типізація всіх компонентів та утиліт
- Покращена документація за допомогою JSDoc
- Зменшення кількості помилок під час виконання
- Краща підтримка IDE з автодоповненням

Детальний план міграції можна знайти в файлі `typescript-migration-plan.md`.

## Оптимізація продуктивності

Додаток включає ряд оптимізацій для покращення продуктивності:

- **Ліниве завантаження компонентів** - використання React.lazy та Suspense
- **Оптимізація зображень** - автоматична оптимізація зображень
- **Аналіз бандлу** - використання webpack-bundle-analyzer
- **Кешування даних** - для підтримки офлайн режиму

## Розгортання на Expo/App Stores

1. Зберіть застосунок для Android/iOS:
```
eas build --platform android
eas build --platform ios
```

2. Відправте застосунок до відповідних магазинів:
```
eas submit --platform android
eas submit --platform ios
```

3. Для веб-версії:
```
npx expo export:web
```

## Автори

- [Ваше ім'я](https://github.com/your-username)

## Ліцензія

Цей проєкт ліцензований під [MIT License](LICENSE).
