# üóÑÔ∏è Supabase –ú—ñ–≥—Ä–∞—Ü—ñ—ó

## üìã –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω

### ‚úÖ –¢–∞–±–ª–∏—Ü—ñ –≤ –ë–î (—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è):
- `cars` - –ê–≤—Ç–æ–º–æ–±—ñ–ª—ñ
- `car_expenses` - –í–∏—Ç—Ä–∞—Ç–∏
- `car_documents` - –î–æ–∫—É–º–µ–Ω—Ç–∏
- `car_images` - –ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞–≤—Ç–æ
- `mileage_history` - –Ü—Å—Ç–æ—Ä—ñ—è –ø—Ä–æ–±—ñ–≥—É
- `buyers` - –ü–æ–∫—É–ø—Ü—ñ
- `service_history` - –Ü—Å—Ç–æ—Ä—ñ—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è
- `ownership_history` - –Ü—Å—Ç–æ—Ä—ñ—è –≤–æ–ª–æ–¥—ñ–Ω–Ω—è
- `status_comments` - –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ
- `profiles` - –ü—Ä–æ—Ñ—ñ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### ‚ùå –ù–µ–ø–æ—Ç—Ä—ñ–±–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ (–º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏):
- `categories` (e-commerce, –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è)
- `products` (e-commerce, –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è)
- `orders` (e-commerce, –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è)
- `order_items` (e-commerce, –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è)

---

## üîß –í–∏–¥–∞–ª–µ–Ω–Ω—è –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–∏—Ö —Ç–∞–±–ª–∏—Ü—å

–Ø–∫—â–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ e-commerce —Ç–∞–±–ª–∏—Ü—ñ:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [Supabase SQL Editor](https://app.supabase.com)
2. –í–∏–∫–æ–Ω–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç: `scripts/cleanup-ecommerce-tables.sql`

---

## üìù –§–∞–π–ª–∏ –º—ñ–≥—Ä–∞—Ü—ñ–π

### `20240320000000_initial_schema.sql`
**–°—Ç–∞—Ç—É—Å:** –ó–∞—Å—Ç–∞—Ä—ñ–ª–∞ –º—ñ–≥—Ä–∞—Ü—ñ—è (–º—ñ—Å—Ç–∏—Ç—å e-commerce —Å—Ö–µ–º—É)

–¶—è –º—ñ–≥—Ä–∞—Ü—ñ—è —Å—Ç–≤–æ—Ä—é—î:
- profiles (–ø–æ—Ç—Ä—ñ–±–Ω–∞) ‚úÖ
- categories, products, orders, order_items (–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ) ‚ùå

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** –ù–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –¥–ª—è –Ω–æ–≤–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

### `20240320000003_notifications.sql`
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç–∏–≤–Ω–∞

–°—Ç–≤–æ—Ä—é—î —Ç–∞–±–ª–∏—Ü—é —Å–ø–æ–≤—ñ—â–µ–Ω—å –¥–ª—è –¥–æ–¥–∞—Ç–∫—É.

---

## üöÄ –î–ª—è –Ω–æ–≤–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

–ó–∞–º—ñ—Å—Ç—å —Å—Ç–∞—Ä–∏—Ö –º—ñ–≥—Ä–∞—Ü—ñ–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ:

### `database/schema.sql`
–ú—ñ—Å—Ç–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É —Å—Ö–µ–º—É –¥–ª—è –¥–æ–¥–∞—Ç–∫—É –∞–≤—Ç–æ–ø–µ—Ä–µ–∫—É–ø—É:
- cars
- expenses
- mileage_history
- sales
- car_documents
- user_settings

**–Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏:**
1. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç –≤ Supabase
2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ SQL Editor
3. –í–∏–∫–æ–Ω–∞–π—Ç–µ `database/schema.sql`
4. –í–∏–∫–æ–Ω–∞–π—Ç–µ `scripts/setup-rls-final.sql`

---

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ

**–ú—ñ–≥—Ä–∞—Ü—ñ—ó –≤ `supabase/migrations/` –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ!**

–î–ª—è –Ω–æ–≤–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `database/schema.sql`.

–î–ª—è –ø–æ—Ç–æ—á–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É - –ë–î –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ —ñ –ø—Ä–∞—Ü—é—î ‚úÖ

---

## üÜò –Ø–∫—â–æ —â–æ—Å—å –Ω–µ —Ç–∞–∫

### –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω –ë–î:
```bash
node scripts/checkDatabaseDetailed.js
```

### –í–∏–¥–∞–ª–∏—Ç–∏ –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–µ:
```sql
-- –í–∏–∫–æ–Ω–∞–π—Ç–µ –≤ SQL Editor
scripts/cleanup-ecommerce-tables.sql
```

---

**–ë—ñ–ª—å—à–µ —ñ–Ω—Ñ–æ:** [database/README.md](../database/README.md)
